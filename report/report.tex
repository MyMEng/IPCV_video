% include a brief discussion about how the limitation of leaf instances affects the performance of the decision tree algorithm.

\documentclass[12pt,a4paper,twocolumn]{article}
\usepackage{times} % times font
\usepackage{mathptmx} % times font in maths
% \usepackage{fullpage}
\usepackage[top=0.7in, bottom=0.7in, left=0.7in, right=0.7in]{geometry}
\usepackage{multirow} %in tables
\usepackage{caption} % in tables
\pagenumbering{gobble}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\usepackage{lipsum}

\begin{document}

\twocolumn[
\begin{@twocolumnfalse}
\begin{center}
	\begin{large}
	{\HRule \\[0.2cm]}
	\textsc{Assignment Motion Estimation and Gesture Recognition}
	{\HRule \\[0.3cm]}
	\end{large}

	\begin{minipage}{ 0.45\textwidth }
		\begin{flushleft}
			Kacper \textbf{Sokol} --- \texttt{ks1591} --- 3GGK1\\
			Maciej \textbf{Kumorek} --- \texttt{mk0934} --- 3G403\
		\end{flushleft}
	\end{minipage}
	\begin{minipage}{ 0.45\textwidth }
		\begin{flushright}
			{COMS30121 $|$ Assignment 03\\
			Image Processing \& Computer Vision\\[0.3cm]}
		\end{flushright}
	\end{minipage}
\end{center}
\end{@twocolumnfalse}
] % \lipsum[1]~\\[0.4cm]
\section*{Introduction}
Our goal in this assignment was to implement Lucas-Kanade (LK) algorithm for motion estimation and detection. 
This approached is based on calculating spatial and temporal derivatives of a sequence of images to estimate velocity vectors. 
It is simplistic solution for motion detection task with some restrictions but ease of implementation and overall performance seems reasonable 
arguments to use this approach.

\section*{Implementation / approach}

Our motion estimation class LKTracker can track motion within a specified region. We implemented methods for estimation derivatives in x and y directions as well as in time that use information from two frames. We calculate difference for four 
surrounding pixels in each directions for every pixel in a tracked region. We also allow to specify a window size (or sub-region) for which we sum values of derivatives for all pixels
in the region in order to estimate velocity vectors in x and y directions for that given window. We then use the vectors to detect motion in the regions and see if it is going to the left or right by 
summing all x components of the speed and thresholding them according to a value that can be set.
To avoid fixing default threshold values we performed regression and determined exponential function that binds image and motion 
features with appropriate parameters determined by the resolution of the input images. It allows our program to catch all motions happening in the video ranging from really slow ones up to very 
fast moving objects.\\
We could also easily detect motion up and down the image by analyzing y component of velocity vectors in the same way as for left and right.

\section*{Program features}
We have implemented a few different features that can be turned on by specifying the following arguments for the program:
\begin{itemize}
\item \texttt{--showderiv} --- Display derivatives calculated for each tracked region.
\item \texttt{--threshold=\textit{\#}} --- overwrite implemented thresholding function with fixed value,
\item \texttt{--regions} --- enables user to defined multiple motion tracking regions with specified starting point, width and height,
\item \texttt{--showall} --- this switch enables grid of motion tracking points with attached unit vectors showing movement direction,
\item \texttt{--regionSize=\textit{\#}} --- defines the size of region for derivative calculation.
\end{itemize}

\section*{Performance}
The main issue that can be observed is motion of object that are barely distinct from background. It is caused by derivatives being similar in certain region due to homogeneous colors.\\
Other observed flaw are issues while light conditions are not sufficient or shadow is casted in some manner on object of which we try to detect motion.\\

Other than that, our implementation seems reliable and robust being able to detect motion with high accuracy while tested on both video files and web camera stream.\\
One of the others improvements that could be implemented is tracking objects and not predefined regions. This would result in possible motion in different directions in very small regions. In our approach for each region only major motions are reported.

\end{document}
